{
  "version": 3,
  "sources": ["../../../app/routes/admin.reservations.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/admin.reservations.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/admin.reservations.tsx\");\n  import.meta.hot.lastModified = \"1749403045597.4736\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData, Link } from \"@remix-run/react\";\nimport { getReservations, getUsers, getItems } from \"~/utils/db.server\";\nexport const meta = () => {\n  return [{\n    title: \"Reservation Management - Admin - Toolshed\"\n  }, {\n    name: \"description\",\n    content: \"Manage platform reservations and bookings\"\n  }];\n};\nexport async function loader({\n  request\n}) {\n  const reservations = await getReservations(100, 0);\n  const users = await getUsers(100, 0);\n  const items = await getItems(100, 0);\n\n  // Create maps for easier lookup\n  const userMap = new Map(users.map(user => [user.id, user.name]));\n  const itemMap = new Map(items.map(item => [item.id, item.title]));\n  return json({\n    reservations,\n    userMap: Object.fromEntries(userMap),\n    itemMap: Object.fromEntries(itemMap)\n  });\n}\nexport default function AdminReservations() {\n  _s();\n  const {\n    reservations,\n    userMap,\n    itemMap\n  } = useLoaderData();\n  const getStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-100 text-green-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'approved':\n        return 'bg-blue-100 text-blue-800';\n      case 'returned':\n        return 'bg-gray-100 text-gray-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'rejected':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  return <div className=\"min-h-screen bg-neighborhood-cloud\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-4 mb-4\">\n            <Link to=\"/admin\" className=\"text-neighborhood-spruce hover:text-neighborhood-spruce/80\">\n              \u2190 Back to Dashboard\n            </Link>\n          </div>\n          <h1 className=\"text-4xl font-bold text-neighborhood-slate mb-4\">\n            Reservation Management\n          </h1>\n          <p className=\"text-lg text-neighborhood-slate/80\">\n            Monitor and manage all platform reservations\n          </p>\n        </div>\n\n        {/* Status Summary */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          {['pending', 'approved', 'active', 'returned', 'cancelled'].map(status => {\n          const count = reservations.filter(r => r.status === status).length;\n          return <div key={status} className=\"bg-white rounded-lg shadow-md p-4 text-center\">\n                <p className=\"text-2xl font-bold text-neighborhood-spruce\">{count}</p>\n                <p className=\"text-sm text-neighborhood-slate/60 capitalize\">{status}</p>\n              </div>;\n        })}\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-xl font-semibold text-neighborhood-slate\">\n                All Reservations ({reservations.length})\n              </h2>\n              <div className=\"flex gap-2\">\n                <select className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-neighborhood-spruce\">\n                  <option value=\"\">All Statuses</option>\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"approved\">Approved</option>\n                  <option value=\"active\">Active</option>\n                  <option value=\"returned\">Returned</option>\n                  <option value=\"cancelled\">Cancelled</option>\n                  <option value=\"rejected\">Rejected</option>\n                </select>\n                <input type=\"search\" placeholder=\"Search reservations...\" className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-neighborhood-spruce focus:border-transparent\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Reservation ID\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Item\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Requester\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Owner\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Dates\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {reservations.map(reservation => <tr key={reservation.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        #{reservation.id.slice(-8)}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        Qty: {reservation.quantity_requested}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {itemMap[reservation.item_id] || \"Unknown Item\"}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {reservation.item_id.slice(-8)}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {userMap[reservation.requester_id] || \"Unknown User\"}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {reservation.requester_id.slice(-8)}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {userMap[reservation.owner_id] || \"Unknown User\"}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {reservation.owner_id.slice(-8)}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(reservation.status)}`}>\n                        {reservation.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      <div>\n                        {reservation.start_date ? new Date(reservation.start_date).toLocaleDateString() : 'TBD'}\n                      </div>\n                      <div>\n                        to {reservation.end_date ? new Date(reservation.end_date).toLocaleDateString() : 'TBD'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <Link to={`/admin/reservations/${reservation.id}`} className=\"text-neighborhood-spruce hover:text-neighborhood-spruce/80 mr-4\">\n                        View Details\n                      </Link>\n                      {reservation.status === 'pending' && <button className=\"text-neighborhood-goldenrod hover:text-neighborhood-goldenrod/80\">\n                          Moderate\n                        </button>}\n                    </td>\n                  </tr>)}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>;\n}\n_s(AdminReservations, \"OuviWKOpxeZWq3hOT1b047Umqco=\", false, function () {\n  return [useLoaderData];\n});\n_c = AdminReservations;\nvar _c;\n$RefreshReg$(_c, \"AdminReservations\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
