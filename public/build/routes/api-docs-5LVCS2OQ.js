import{a as l,b as o}from"/build/_shared/chunk-4HXKWYDW.js";import{c as a}from"/build/_shared/chunk-Q3IECNXJ.js";var i=a(l()),e=a(o()),n=()=>[{title:"API Documentation - Toolshed"},{name:"description",content:"Complete API documentation for developers"}];function d(){let[t,r]=(0,i.useState)("overview");return(0,e.jsx)("div",{className:"min-h-screen bg-neighborhood-cloud",children:(0,e.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsx)("h1",{className:"text-4xl font-bold text-neighborhood-slate mb-4",children:"API Documentation"}),(0,e.jsx)("p",{className:"text-lg text-neighborhood-slate/80",children:"Complete developer reference for the Toolshed API"})]}),(0,e.jsxs)("div",{className:"flex gap-8",children:[(0,e.jsx)("div",{className:"w-64 bg-white rounded-lg shadow-md p-6",children:(0,e.jsx)("nav",{className:"space-y-2",children:[{id:"overview",title:"Overview"},{id:"authentication",title:"Authentication"},{id:"users",title:"Users"},{id:"items",title:"Items"},{id:"reservations",title:"Reservations"},{id:"events",title:"Event Sourcing"}].map(s=>(0,e.jsx)("button",{onClick:()=>r(s.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${t===s.id?"bg-neighborhood-spruce text-white":"text-neighborhood-slate hover:bg-gray-100"}`,children:s.title},s.id))})}),(0,e.jsxs)("div",{className:"flex-1 bg-white rounded-lg shadow-md p-8",children:[t==="overview"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-neighborhood-slate mb-4",children:"API Overview"}),(0,e.jsxs)("div",{className:"prose max-w-none",children:[(0,e.jsx)("p",{className:"text-neighborhood-slate/80 mb-6",children:"The Toolshed API provides three different ways to interact with the platform:"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-neighborhood-spruce mb-2",children:"1. User Interface"}),(0,e.jsx)("p",{className:"text-sm text-neighborhood-slate/70",children:"Web-based interface for community members to browse, share, and request items."}),(0,e.jsx)("div",{className:"mt-3",children:(0,e.jsx)("span",{className:"text-xs bg-neighborhood-mint px-2 py-1 rounded",children:"/browse, /share, /profile"})})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-neighborhood-goldenrod mb-2",children:"2. Admin Dashboard"}),(0,e.jsx)("p",{className:"text-sm text-neighborhood-slate/70",children:"Administrative interface for reviewing data, managing users, and monitoring activity."}),(0,e.jsx)("div",{className:"mt-3",children:(0,e.jsx)("span",{className:"text-xs bg-neighborhood-goldenrod text-white px-2 py-1 rounded",children:"/admin/*"})})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-neighborhood-rust mb-2",children:"3. JSON API"}),(0,e.jsx)("p",{className:"text-sm text-neighborhood-slate/70",children:"RESTful API endpoints for developers to integrate with external applications."}),(0,e.jsx)("div",{className:"mt-3",children:(0,e.jsx)("span",{className:"text-xs bg-neighborhood-rust text-white px-2 py-1 rounded",children:"/api/*"})})]})]}),(0,e.jsx)("h3",{className:"text-xl font-semibold text-neighborhood-slate mb-3",children:"Event-Sourced Architecture"}),(0,e.jsx)("p",{className:"text-neighborhood-slate/80 mb-4",children:"The reservation system uses event sourcing where the current state is computed from an immutable log of events. This provides complete audit trails and enables complex business logic with full history tracking."}),(0,e.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Base URL"}),(0,e.jsx)("code",{className:"text-sm bg-gray-200 px-2 py-1 rounded",children:"https://your-domain.com/api"})]})]})]}),t==="authentication"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-neighborhood-slate mb-4",children:"Authentication"}),(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Login"}),(0,e.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,e.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-mono",children:"POST"}),(0,e.jsx)("code",{children:"/api/auth/login"})]}),(0,e.jsx)("p",{className:"text-sm text-neighborhood-slate/70 mb-3",children:"Authenticate with email and password to receive a JWT token."}),(0,e.jsxs)("div",{className:"mb-4",children:[(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Request Body:"}),(0,e.jsx)("pre",{className:"bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify({email:"alice@neighborhood.local",password:"your_password"},null,2)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Response:"}),(0,e.jsx)("pre",{className:"bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify({token:"mock-jwt-token-550e8400-e29b-41d4-a716-446655440001"},null,2)})]})]})]}),(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Using the Token"}),(0,e.jsx)("p",{className:"text-neighborhood-slate/80 mb-3",children:"Include the JWT token in the Authorization header for all API requests:"}),(0,e.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,e.jsx)("code",{className:"text-sm",children:"Authorization: Bearer your-jwt-token-here"})})]}),(0,e.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,e.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Development Note"}),(0,e.jsx)("p",{className:"text-yellow-700 text-sm",children:"This implementation uses mock JWT tokens for demonstration. In production, implement proper JWT signing, validation, and expiration handling."})]})]}),t==="items"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-neighborhood-slate mb-4",children:"Items API"}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-mono",children:"GET"}),(0,e.jsx)("code",{children:"/api/items"})]}),(0,e.jsx)("p",{className:"text-neighborhood-slate/70 mb-3",children:"Get all items with optional pagination."}),(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Query Parameters:"}),(0,e.jsxs)("ul",{className:"text-sm text-neighborhood-slate/70 mb-3 space-y-1",children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:"limit"})," - Maximum number of items (default: 50)"]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:"offset"})," - Number of items to skip (default: 0)"]})]}),(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Example Response:"}),(0,e.jsx)("pre",{className:"bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify([{id:"650e8400-e29b-41d4-a716-446655440001",owner_id:"550e8400-e29b-41d4-a716-446655440001",title:"Electric Drill",description:"High-quality cordless drill with multiple bits",category:"power-tools",tags:["drilling","construction","DIY"],location:"Downtown",photo_path:null,quantity_total:1,quantity_available:1,created_at:"2024-01-15T00:00:00.000Z"}],null,2)})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-mono",children:"POST"}),(0,e.jsx)("code",{children:"/api/items"})]}),(0,e.jsx)("p",{className:"text-neighborhood-slate/70 mb-3",children:"Create a new item."}),(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Request Body:"}),(0,e.jsx)("pre",{className:"bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify({owner_id:"550e8400-e29b-41d4-a716-446655440001",title:"Circular Saw",description:"Professional grade circular saw with laser guide",category:"power-tools",tags:["cutting","woodworking","construction"],location:"Downtown",quantity_total:1},null,2)})]})]})]}),t==="reservations"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-neighborhood-slate mb-4",children:"Reservations API"}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-mono",children:"GET"}),(0,e.jsx)("code",{children:"/api/reservations"})]}),(0,e.jsx)("p",{className:"text-neighborhood-slate/70 mb-3",children:"Get current reservation states with filtering options."}),(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Query Parameters:"}),(0,e.jsxs)("ul",{className:"text-sm text-neighborhood-slate/70 mb-3 space-y-1",children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:"item_id"})," - Filter by item ID"]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:"requester_id"})," - Filter by requester ID"]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("code",{children:"status"})," - Filter by status (pending, approved, active, returned, cancelled)"]})]})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-mono",children:"GET"}),(0,e.jsx)("code",{children:"/api/reservations/[id]"})]}),(0,e.jsx)("p",{className:"text-neighborhood-slate/70 mb-3",children:"Get a specific reservation's current state."})]})]})]}),t==="events"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-neighborhood-slate mb-4",children:"Event Sourcing"}),(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsx)("p",{className:"text-neighborhood-slate/80 mb-4",children:"The reservation system uses event sourcing where each reservation's state is computed from an immutable log of events. This provides complete audit trails and enables complex business logic."}),(0,e.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Event Types"}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"min-w-full border border-gray-200",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Event Type"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Description"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Valid From States"}),(0,e.jsx)("th",{className:"px-4 py-2 text-left",children:"Resulting State"})]})}),(0,e.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:"requested"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Initial reservation request"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"-"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"pending"})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:"approved"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Owner approves reservation"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"pending"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"approved"})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:"activated"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Item picked up by requester"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"approved"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"active"})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:"returned"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"Item returned by requester"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"active"}),(0,e.jsx)("td",{className:"px-4 py-2",children:"returned"})]})]})]})})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,e.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-mono",children:"POST"}),(0,e.jsx)("code",{children:"/api/reservations/events"})]}),(0,e.jsx)("p",{className:"text-neighborhood-slate/70 mb-3",children:"Add a new event to the reservation log."}),(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Example: Create New Reservation"}),(0,e.jsx)("pre",{className:"bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto",children:JSON.stringify({item_id:"650e8400-e29b-41d4-a716-446655440001",event_type:"requested",quantity:1,start_date:"2024-06-10T09:00:00Z",end_date:"2024-06-12T17:00:00Z",notes:"Need for home renovation project"},null,2)})]})]})]})]}),(0,e.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,e.jsx)("h2",{className:"text-xl font-semibold text-neighborhood-slate mb-4",children:"API Examples"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"font-semibold mb-2",children:"Authentication"}),(0,e.jsx)("p",{className:"text-xs text-neighborhood-slate/70",children:"POST /api/auth/login with email and password to get JWT token"})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"font-semibold mb-2",children:"Get Items"}),(0,e.jsx)("p",{className:"text-xs text-neighborhood-slate/70",children:"GET /api/items with Authorization header to retrieve all items"})]}),(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"font-semibold mb-2",children:"Create Reservation"}),(0,e.jsx)("p",{className:"text-xs text-neighborhood-slate/70",children:"POST /api/reservations/events to create new reservation events"})]})]})]})]})})}export{d as default,n as meta};
